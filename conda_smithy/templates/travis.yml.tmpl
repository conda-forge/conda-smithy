# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yaml and/or the recipe/meta.yaml.

language: objective-c

{% if travis.secure -%}
env:
  global:
    {%- for name, hashed_secure in travis.secure | dictsort %}
    # The {{ name }} secure variable. This is defined canonically in conda-forge.yml.
    - secure: "{{ hashed_secure }}"
    {%- endfor %}
{%- endif %}

install:
    - |
      MINICONDA_URL="http://repo.continuum.io/miniconda"
      MINICONDA_FILE="Miniconda3-3.7.3-MacOSX-x86_64.sh"
      wget "${MINICONDA_URL}/${MINICONDA_FILE}"
      bash $MINICONDA_FILE -b

    - export PATH=/Users/travis/miniconda3/bin:$PATH
    - conda update --yes conda
    - conda install -n root --quiet -c conda-forge --yes conda-build-all conda-build jinja2 anaconda-client setuptools

      {% for channel in channels.get('sources', []) %}
    - conda config --add channels {{ channel }}
      {% endfor %}
    - conda info


script:
  - conda buildall ./{{ recipe_dir }} --no-inspect-conda-bld-directory  {% if False %}
    {% endif %}{% if matrix_condition %} --matrix-conditions {% for cond in matrix_condition %} "{{ cond }}"{% endfor %}{% endif %}{% if False %}
    {% endif %}{% for owner, channel in channels['targets'] %} --upload-channels "{{ owner }}/channel/{{ channel }}"{% endfor %}{% if False %}
    {% endif %}{% for owner, channel in channels['targets'] %} --inspect-channels "{{ owner }}/channel/{{ channel }}"{% endfor %}

